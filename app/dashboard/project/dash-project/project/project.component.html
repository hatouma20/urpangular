<div class="header" style="background: #c1c1c12e">
    <div class="container-fluid">
        <div class="header-body" style="margin-left: 1%">
            <div class="row align-items-center py-4">
                <div class="col-lg-12 col-12">
                    <h3 class="d-inline-block mb-0" style="font-weight: bold; font-family: monospace">
                        Nouveau Projet
                    </h3>
                    <p aria-current="page" class="breadcrumb-item active" style="font-family: monospace">
                        Projets > Ajout
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="accordion" id="accordionExample">
    <div class="card card-info">
        <div aria-labelledby="headingTwo1" class="collapse show" data-parent="#accordionExample" id="collapseTwo1">
            <div class="card-body">
                <form role="form" id="form1">
                    <p class="breadcrumb-item active" style="font-family: monospace">
                        Projet &gt; Information
                    </p>
                    <div class="row">
                        <div class="col-12" style="display: flex">
                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Nom du projet</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.name.value" id="name" name="name"
                                            class="form-control" type="text" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Code</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.code.value" id="code" name="code"
                                            class="form-control" type="text" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12" style="display: flex">
                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Date de début</label>
                                    <div class=" input-group input-group-alternative ">
                                        <input required [(ngModel)]="projectForm.startDate.value"
                                            [ngModelOptions]="{standalone: true}" class="form-control"
                                            id='startdate' name="startdate" type="datetime-local">
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Description</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.description.value" id="description"
                                            name="description" class="form-control" type="text" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12" style="display: flex">
                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Marge d'estimation des coûts</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.costEstimationMargin.value"
                                            id="costEstimationMargin" name="costEstimationMargin" class="form-control"
                                            type="number" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Valeur d'estimation des coûts</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.costEstimationValue.value"
                                            id="costEstimationValue" name="costEstimationValue" class="form-control"
                                            type="number" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12" style="display: flex">
                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Marge d'estimation de rh</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.hrEstimationMargin.value"
                                            id="hrEstimationMargin" name="hrEstimationMargin" class="form-control"
                                            type="number" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Valeur d'estimation de rh</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.hrEstimationValue.value" id="hrEstimationValue"
                                            name="hrEstimationValue" class="form-control" type="number" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12" style="display: flex">
                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Marge d'estimation de temps</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.timeEstimationMargin.value"
                                            id="timeEstimationMargin" name="timeEstimationMargin" class="form-control"
                                            type="number" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group focused" style="display: flex">
                                    <label class="col-4" style="font-weight: bold">Valeur d'estimation de temps</label>
                                    <div class="col-8 input-group input-group-alternative">
                                        <input [(ngModel)]="projectForm.timeEstimationValue.value"
                                            id="timeEstimationValue" name="timeEstimationValue" class="form-control"
                                            type="number" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <div class="form-group focused" style="display: flex;">
                                <label class="col-4" style="font-weight: bold;">état</label>
                                <div class=" col-8 input-group input-group-alternative ">
                                    <select class="form-control" (change)="getSelectedStatus($event)">
                                        <option *ngFor="let key of keysProjectStatus" [value]="key"
                                            [label]="projectStatusEnum[key]"></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>


          <br>
          <div class="col-lg-12 col-5 text-right">
            <a class="btn btn-sm btn-neutral"
               (click)="onFormSubmit()"
               style=" color: black; background: #ffcf03; border: #ffcf03; padding: 1%; ">Creér un noveau projet</a>
          </div>
          <div class="row" style="margin-top:2%">
            <div class="col-lg-12 col-12">
              <div class="alert alert-success " style="display: none">
                <strong>Succès!</strong> projet ajouté avec succès .
              </div>
              <div class="alert alert-danger " style="display: none">
                <span *ngIf="projectForm.name.dirty" class="error-hint">{{projectForm.name.error}}</span><br>
                <span *ngIf="projectForm.code.dirty" class="error-hint">{{projectForm.code.error}}</span><br>
                <span *ngIf="projectForm.description.dirty" class="error-hint">{{projectForm.description.error}}</span><br>
                <span *ngIf="projectForm.startDate.dirty" class="error-hint">{{projectForm.startDate.error}}</span><br>
                <span *ngIf="projectForm.costEstimationMargin.dirty" class="error-hint">{{projectForm.costEstimationMargin.error}}</span><br>
                <span *ngIf="projectForm.costEstimationValue.dirty" class="error-hint">{{projectForm.costEstimationValue.error}}</span><br>
                <span *ngIf="projectForm.hrEstimationMargin.dirty" class="error-hint">{{projectForm.hrEstimationMargin.error}}</span><br>
                <span *ngIf="projectForm.hrEstimationValue.dirty" class="error-hint">{{projectForm.hrEstimationValue.error}}</span><br> 
                 <span *ngIf="projectForm.status.dirty" class="error-hint">{{projectForm.status.error}}</span><br>
                <span *ngIf="projectForm.timeEstimationMargin.dirty" class="error-hint">{{projectForm.timeEstimationMargin.error}}</span><br>
                <span *ngIf="projectForm.timeEstimationValue.dirty" class="error-hint">{{projectForm.timeEstimationValue.error}}</span><br>
              </div>
            </div>
          </div>
                </form>
            </div>
        </div>
    </div>
</div>