<div class="header " style="    background: #c1c1c12e;">
  <div class="container-fluid">
    <div class="header-body" style="margin-left: 1%; ">
      <div class="row align-items-center py-4">
        <div class="col-lg-6 col-7">
          <h3 class="d-inline-block mb-0"style="font-weight: bold;font-family: monospace;"> Gestion des Dépots</h3>
          <p aria-current="page" class="breadcrumb-item active" style="font-family: monospace;">
            Stock> Gestion des Dépots </p>
        </div>

      </div>
    </div>
  </div>
</div>



<div class="accordion" id="accordionExample">

  <div class="card card-info">

    <div aria-labelledby="headingTwo" >
      <div class="card-body">
        <br>
        <p   class="breadcrumb-item active" style="font-family: monospace;"> Stock> Ajouter Dépots </p>


        <form id="form1" (ngSubmit)="onFormSubmit()"  role="form"  role="form" #testForm="ngForm" ngNativeValidate>
          <div style="display: flex">
            <div class="col-12" >




<!--__________________________________________-->
              <div class="row">
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Réference</label>
                    <div class=" input-group input-group-alternative">
                      <input  [(ngModel)]="depotForm.reference.value"
                        name="name" required
                        class="form-control"
                        type="text">
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Label </label>
                    <div class=" input-group input-group-alternative">
                      <input [(ngModel)]="depotForm.name.value"
                        name="name" required
                        class="form-control"
                        type="text">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Numéro de téléphone</label>
                    <div class=" input-group input-group-alternative">
                      <input [(ngModel)]="depotForm.phoneNumber.value"
                        name="name" required
                        class="form-control"
                        type="text">
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Fax </label>
                    <div class=" input-group input-group-alternative">
                      <input [(ngModel)]="depotForm.fax.value"
                        name="name" required
                        class="form-control"
                        type="text">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Code postale</label>
                    <div class=" input-group input-group-alternative">
                      <input [(ngModel)]="depotForm.postalCode.value"
                        name="name" required
                        class="form-control"
                        type="text">
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Status </label>
                    <div class=" input-group input-group-alternative">
                      <select class="form-control" placeholder="Title"  required (change)="getstatus($event)">
                        <option value="">selectionner Status...</option>
                        <option value="1">Désactiver</option>
                        <option value="0"  >Activer</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Ville</label>
                    <div class=" input-group input-group-alternative">
                      <input [(ngModel)]="depotForm.city.value"
                        name="name" required
                        class="form-control"
                        type="text">
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 col-6">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-4" style="font-weight: bold;">Pays </label>
                    <div class=" input-group input-group-alternative">
                      <select  required [(ngModel)]="depotForm.country.value"
                               class="form-control " name="nationality">
                        <option *ngFor="let nationality of nationalities; let id=index" value="{{nationality}}">{{nationality}}</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12 col-12">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-2" style="font-weight: bold;">Adresse </label>
                    <div class=" input-group input-group-alternative">
                      <input [(ngModel)]="depotForm.address.value"
                             name="name" required
                             class="form-control"
                             type="text">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12 col-12">
                  <div class="form-group focused" style="display: flex">
                    <label class="col-2" style="font-weight: bold;">Déscription</label>
                    <div class=" input-group input-group-alternative ">
                      <textarea
                        [(ngModel)]="depotForm.description.value"
                        id="description"
                        class="form-control"
                        cols="50"
                        name="description" rows="4"></textarea>
                    </div>
                  </div>
                </div>
              </div>
 <!--__________________________________________-->


              <div class="row">
                <div class="col-lg-12 col-12">
                  <div class="form-group focused" style="display: flex">
                    <div class="col-12 text-right" style="float: right;padding-right: 0;">
                      <input type="submit" class="btn btn-sm btn-neutral"   style=" color: black; background: #ffcf03; border: #ffcf03; padding: 1%; " value="Enregistrer">
<!--                      <a (click)="onFormSubmit()"-->
<!--                         class="btn btn-sm btn-neutral"-->
<!--                         style=" color: black; background: #ffcf03; border: #ffcf03; padding: 1%; ">Ajouter</a>-->
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="card card-info">
    <div class="card-header card-info-header" id="headingOne">
      <h2 class="mb-0">
        <button aria-controls="collapseOne" aria-expanded="true" class="btn btn-link" data-target="#collapseOne"
                data-toggle="collapse" style="font-weight: bold; font-family: monospace; color: #2d2d44;" type="button">
          <img src="https://static.thenounproject.com/png/703781-200.png" style="width: 40px;">  Liste des Dépots
        </button>
      </h2>
    </div>
    <div aria-labelledby="headingOne" class="collapse show" data-parent="#accordionExample" id="collapseOne">
      <div class="card-body">
        <div class="table-editable" id="table">
 <span class="table-add float-right" style="padding: 0">
      </span>
          <div *ngIf="this.depotsList.length == 0"><p style="text-align: center;">Vous n'avez pas des dépots enregistrés</p></div>

          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover" style="    font-family: monospace;">
            <thead *ngIf="this.depotsList.length != 0">
            <tr>
              <th class="text-center">Addresse</th>
              <th class="text-center">City</th>
              <th class="text-center">Country</th>
              <th class="text-center">description</th>
              <th class="text-center">fax</th>
              <th class="text-center">name</th>
              <th class="text-center">phone</th>
              <th class="text-center">postalCode</th>
              <th class="text-center">reference</th>
              <th class="text-center">status</th>
              <th class="text-center"></th>
            </tr>
            </thead>
            <tbody *ngIf="this.depotsList.length != 0">
            <tr *ngFor="let item of depotsList; let id = index">
               <td>
                <span (blur)="updateList(id, 'address', $event)" (keyup)="changeValue(id, 'address', $event)"
                      contenteditable="true">{{item.address}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'city', $event)" (keyup)="changeValue(id, 'city', $event)"
                      contenteditable="true">{{item.city}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'country', $event)" (keyup)="changeValue(id, 'country', $event)"
                      contenteditable="true">{{item.country}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'description', $event)" (keyup)="changeValue(id, 'description', $event)"
                      contenteditable="true">{{item.description}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'fax', $event)" (keyup)="changeValue(id, 'fax', $event)"
                      contenteditable="true">{{item.fax}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'name', $event)" (keyup)="changeValue(id, 'name', $event)"
                      contenteditable="true">{{item.name}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'phoneNumber', $event)" (keyup)="changeValue(id, 'phoneNumber', $event)"
                      contenteditable="true">{{item.phoneNumber}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'postalCode', $event)" (keyup)="changeValue(id, 'postalCode', $event)"
                      contenteditable="true">{{item.postalCode}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'reference', $event)" (keyup)="changeValue(id, 'reference', $event)"
                      contenteditable="true">{{item.reference}}</span>
              </td>
              <td>
                <span (blur)="updateList(id, 'status', $event)" (keyup)="changeValue(id, 'status', $event)"
                      contenteditable="true">{{item.status}}</span>
              </td>

              <td>
            <span class="table-remove">
               <a (click)="open(content)" class="delete" data-toggle="tooltip" style="    color: red;" title="Delete"><i
                 aria-hidden="true" class="fa fa-trash"></i></a>
<!--              <a (click)="remove(item.uuid)" class="delete" data-toggle="tooltip" style="    color: red;" title="Delete"><i-->
<!--                 aria-hidden="true" class="fa fa-trash"></i></a>-->
               <ng-template #content let-c="close" let-d="dismiss" style=" width: 40%; margin-left: 30%; ">

                <div class="modal-body" style="padding: 0;">
                  <div class="col-12" style="display: flex">
  <div class="col-2"></div>
  <div class="col-8" style="text-align: center">
               <img class="navbar-brand-img" src="../../../assets/img/delete.gif" style="width: 45%;">
  </div>
  <div class="col-2"></div>
</div>
                  <div class="col-12" style="display: flex">
  <div class="col-2"></div>
  <div class="col-8" style="text-align: center">
               <h2 class="swal2-title" id="swal2-title" style="font-size: 1.0em;">Are you sure?</h2>
                <div id="swal2-content" class="swal2-html-container" style="display: block;">You won't be able to revert this!</div>

  </div>
  <div class="col-2"></div>
</div>


                </div>
                <div class="modal-footer" style="padding: 1%; border-top: none;">
                <button (click)="remove(item.uuid,id)" class="btn btn-outline-red btn-sm btn-success"  type="button" style=" width: 60px; color: black;background: #ffcf03;border: #ffcf03;padding: 2%; ">Oui</button>
                  <button (click)="d('Cross click')" aria-label="Close" class="btn btn-outline-red btn-sm"  type="button" style="width: 60px;color: #ffffff;background: black; border: black; padding: 2%;">Cancel</button>
                </div>

                </ng-template>
            </span>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>
